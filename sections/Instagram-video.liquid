{% comment %} sections/instagram-video {% endcomment %}

 {% capture videos %}
  <div class="customer-review brick--margin mainimageGridcntnt imageGridSection">
  <div class="review-title">
    <h3 class="influencer-video standard__heading textbtmMargin grid__heading">
<!--       <span style="justify-content:center;">
        <a href="{{section.settings.url_1}}" style="text-decoration:none"> 
           {% if section.settings.image_icon != blank %}
           <img class="insta_icon lazyload" data-src="{{ section.settings.image_icon | img_url: '20x'}}" alt="instagram-icon"> 
           {% endif %}
        </a>
       </span> -->
        {{section.settings.review-title}}</h3>
  </div> 
  <div class="customer" id="slideshow-insta">
    {% for block in section.blocks %}
    <div class="customer-review-section ">
      <a clas="insta-icon-link"  target="_blank" href="{{block.settings.url_2}}" style="text-decoration:none"> 
       <img class="insta_reel_icon" src="{{ block.settings.image_reels | img_url: '20x'}}" alt="instagram-icon"> 
      </a>
		<video muted   preload="none" playsinline class="video-id"  poster="{{ block.settings.image_poster | img_url: '300x'}}">
          <source type="video/mp4" src="{{block.settings.url_1}}">
        </video>
    </div>
    {% endfor %}
  </div>
  {% endcapture %}
  <script>
document.open();
if (navigator.userAgent.indexOf("Chrome-Lighthouse") == -1) {
document.write({{videos | json}});}
else{
document.write("<html><p>.</p></html>");}
document.close();
</script>
</div>

<style>

  .insta_icon{
  vertical-align: middle;
  }
  #slideshow-insta:not(.slick-initialized) {
    display: flex;
    overflow: hidden;
}
  .insta_reel_icon{
    position: absolute;
    right: 25px;
    top: 10px;
    cursor: pointer;
    z-index: 9999;
  }
  .customer-review-section video{
    object-fit: cover;
    width:100%;
    height:100%;
    padding:5px;
    border-radius:15px;
  }
  .review-title h3 {
/*     font-family: "Century Gothic",sans-serif; */
    font-style: normal;
    color: #a99ef6;

  }
  .customer {
/*     display: flex; */
/*     padding-left: 132px; */
    padding-bottom: 20px;
    padding-top: 0;
    width:100%;
    margin: 0 auto;
}
  
  .customer-review-section {
    background: #fff;
/*     margin: 10px; */
/*     border: 1px solid #C4BEB6; */
    position:relative;
  }
  .review-content {
    font-family: 'Montserrat';
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 24px;
    color: #2A2E33;
    text-align: justify;
  }
  .customer-details {
    padding-top: 20px;
    display: flex;
    min-height: 80px;
  }
  .influencer-video {
    font-family: BebasNeue;
    margin-bottom: 25px !important;
}
  .cus-img img {
    border-radius: 50%;
    background: #E7DBCD;
  }
  .cus-name {padding: 10px;}
  .cus-name p {margin: 0;}
  .name, .des {
    font-family: 'Montserrat';
    font-style: normal;
    font-weight: 600;
  }
  .name {
    font-size: 14px;
    line-height: 17px;
    color: #3E4827;
  }
  .des {
    font-size: 12px;
    line-height: 15px;
    color: #2A2E33;
  }
/* slick arrow btn css */
   button.slick-prev.slick-arrow{
    left:7px;
    z-index:99;
  }
  button.slick-next.slick-arrow{
    right:7px;
    z-index:99;
  }
  button.slick-prev.slick-arrow::before,
  button.slick-next.slick-arrow::before{
    font-size: 15px;
    color: #fff;
    background: #a99ef6;
    height: 25px;
    width: 25px;
    display: inline-block;
    line-height: 25px;
    font-family: fontawesome;
    border-radius: 50%;
    }
  
  @media screen and (max-width: 768px) {
    .customer-review-section video{
    object-fit: cover;
    width:100%;
    height:230px;
  }
  }
  @media screen and (max-width: 767px) {
         .customer {
        padding-bottom: 0px;
    }
  }

</style>
<script>
  $(document).ready(function(){
      $('#slideshow-insta').slick({
      infinite: false,
        arrow:true,
        slidesToShow: 5,
        
      slidesToScroll: 1,
      autoplay: false,
      autoplaySpeed: 2000,
      responsive: [
        {
          breakpoint: 1200,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 992,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 768,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 1,
          },
        },
      ],
    });
  });
// $('.video-id').click(function(){
//     // $('.video-id').trigger('pause');
//     this.paused ? this.play() : this.pause();
//   });


      //   document.querySelectorAll(".video-id").forEach((item) => {
      //   item.addEventListener("click", function () {
      //     if (item.paused) {
      //       document.querySelectorAll(".video-id").forEach((video) => {
      //         video.pause();
      //       });
      //       item.play();
      //     } else {
      //       item.pause();
      //     }
      //   });
      // });
</script>

{% schema %}
  {
    "name": "instagram Video Slider",
    "settings": [
		{
			"type": "text",
			"id": "review-title",
			"label": "Intagram Title"
		},
          {
                  "type": "image_picker",
                  "id": "image_icon",
                  "label": "Insta Icon Image"
          },
			{
                  "type": "url",
                  "id": "url_1",
                  "label": "Instagram URL"
              }
	],
    
	"blocks": [
		{
			"type": "gallery",
			"name": "Video",
			"settings": [
             
              {
                  "type": "url",
                  "id": "url_1",
                  "label": "Video URL"
              },	
              {
                  "type": "url",
                  "id": "url_2",
                  "label": "Instagram URL"
              },
              {
                  "type": "image_picker",
                  "id": "image_reels",
                  "label": "Insta reel Image"
              },
              {
                  "type": "image_picker",
                  "id": "image_poster",
                  "label": "Poster image"
              }
             
             
			]
		}
	],
"presets": [
{
"category":"insta-video",
"name":"Instagram-Video"
}
]
  }
{% endschema %}


